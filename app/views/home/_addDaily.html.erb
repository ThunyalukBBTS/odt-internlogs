<div data-newdailymodal-target="modal" class="fixed z-30 inset-0 bg-black/40 items-center justify-center hidden">
  <div data-newdailymodal-target="modal_content" class="bg-white opacity-0 translate-y-full rounded-xl w-[calc(90vw)] max-w-4xl max-h-[calc(80vh)] text-center transform transition-all duration-300">
    <div class="relative flex  rounded-lg ">
      <!-- Side Image -->
      <div class="w-2/6 flex flex-col justify-between z-10 bg-[#f7f4ff]  rounded-l-xl">
        
        <div class="px-6 py-10">
          <div class="flex items-center mb-4">
            <%= image_tag "ODT-Logo.svg", class:"h-8 mr-2"%>
            
          </div>
          <h1 class="text-sm mb-4 text-gray-500 ">Software Development should be joyful</h1>
          <div class="stepper">
            <div class="flex items-center mb-1">
              <div class="w-6 h-6 mr-2 rounded-full bg-[#0056a9] text-white flex items-center justify-center">1</div>
              <span class="font-semibold">Personal Information</span>
            </div>
            <div class="h-8 ml-[11px] w-[2px] mb-1 bg-gray-400"></div>
            <div class="flex items-center"> 
              <div class="w-6 h-6 mr-2 rounded-full border-2 border-gray-300 flex items-center justify-center text-gray-400">2</div>
              <span class="text-gray-400">Banking Information</span>
            </div>
          </div>
        </div>
          <div class="bottom-0 mt-8 rounded-bl-xl">
            <%= image_tag "addwave.svg", class:"w-full rounded-bl-xl"%>
          </div>
      </div>
      <!-- Form Area -->
      <div class="col-span-2">
        <h1 class="text-2xl sm:text-3xl font-bold mb-1 mt-3 sm:mb-2 sm:mt-5">New Daily Task</h1>
        <div class="bg-white rounded-lg w-full p-5 mt-5 text-xl">
          <%= form_with model: @task, url: home_create_task_path, local: true , data: { turbo_method: :post,controller: "form-validator", "newdailymodal-target":"form" }  do |f| %>
            <div class="grid grid-cols-10 gap-4 mb-4">
              <label class="col-span-2 text-right font-semibold">Date:</label>
              <%= f.date_field :date, value: (@task.date || Date.today).strftime('%Y-%m-%d'), 
                max:Date.today.strftime('%Y-%m-%d'),
                class: "col-span-8 border border-neutral-400 rounded focus:outline-none focus:ring-2 focus:border-[#7d58bf] focus:ring-[#7d58bf]",
                data: { "form-validator-target": "date", action: "change->form-validator#validateForm", "newdailymodal-target":"input_date" } %>
            </div>
            <div data-form-validator-target="date_error" class="hidden grid-cols-10 gap-4 mb-4">
              <div class="col-span-2"></div>
              <div class="col-span-8 items-center rounded-md text-center p-1 flex">
                <%= image_tag 'error.svg', width: 30, height: 30 ,class:"min-w-[30px] me-2" %>
                <h1 class="text-red-400 text-base font-semibold">Error: This date already exists in daily tasks</h1>
              </div>
            </div>
            <div class="grid grid-cols-10 gap-4 mb-4" data-controller="worktime">
              <label class="block col-span-2 text-right text-md sm:hidden">Wt:</label>
              <label class="col-span-2 text-right hidden sm:block font-semibold">Worktime:</label>
              <div class="flex space-x-2 col-span-8">
                <!-- âœ… Hours Select -->
                <%= f.select :hours, 
                      options_for_select((0..8).map { |h| ["#{h.to_s.rjust(2, "0")}", h] }, f.object.hours),{},
                      class: "border rounded border-neutral-400 pl-1 bg-white focus:border-[#7d58bf] focus:outline-none focus:ring-2 focus:ring-[#7d58bf]",
                      data: { 
                        "form-validator-target": "hours", 
                        action: "form-validator#validateForm change->worktime#updateMinutes",
                        "newdailymodal-target":"input_hours"
                      }
                    %>
                <span>hours</span>
                <%= f.select :mins, 
                    options_for_select([["00", 0], ["30", 30]], f.object.mins),{},
                      class: "border rounded pl-1 border-neutral-400 bg-white focus:border-[#7d58bf] focus:outline-none focus:ring-2 focus:ring-[#7d58bf]",
                      id: "worktime-minutes",
                      data: { 
                        "form-validator-target": "mins", 
                        action: "change->form-validator#validateForm" ,
                        "newdailymodal-target":"input_mins"
                      }
                %>
                <span>minutes</span>
              </div>
            </div>
            <div class="grid grid-cols-10 gap-4">
              <label class="block col-span-2 text-right font-semibold">Detail:</label>
              <%= f.text_area :detail,placeholder: "(Optional)",
                :maxlength => 255,
                class: "border rounded min-h-32 border-neutral-400 sm:min-h-48 w-full px-2 col-span-8 focus:border-[#7d58bf] focus:outline-none focus:ring-2 focus:ring-[#7d58bf]",
                data: { "form-validator-target": "detail", action: "input->form-validator#validateForm","newdailymodal-target":"input_detail" } %>
            </div>
            <div class="flex justify-end space-x-4 mt-5">
              <button data-action="click->newdailymodal#close_modal"
                class="bg-red-400 text-white px-4 py-2 rounded cursor-pointer"
                onclick="event.preventDefault();">Cancel</button>
              <%= button_tag "Next",
                                        class: "bg-gray-400 text-white px-4 py-2 rounded cursor-not-allowed",
                                        id: "continue-button",
                                        disabled: true,
                                        data: {
                                          action: "click->newdailymodal#confirm",
                                          "form-validator-target": "continueButton"
                                        },
                                        onclick:"event.preventDefault();"
                                    %>
              <!-- <%= f.submit "Continue" , class: "bg-blue-400 text-white px-4 py-2 rounded" %> --->
            </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>